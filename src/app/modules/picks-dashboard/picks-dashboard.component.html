<nav-bar
    [title] ="'Games'"
    [subtitle] = "getTitle()">
</nav-bar>
<weeks 
    [number] = "week.number"
    [seasonType] = "week.seasonType"
    [season]= "week.season"
    [view]="'games'">
    <div *ngIf = "teams.length == 0 && loader" class="no-games-set">
        <mat-spinner></mat-spinner >
      </div>
    <div *ngIf = "teams.length == 0 && !loader" class="no-games-set secondary">
        No Games Set
    </div>
    <div *ngIf="teams.length > 0" class="games-container">
        <ng-container *ngFor="let game of games, let i = index">
            <div *ngIf="showSubmitTime(i)" class="full-row">
                <div class="game-card-date">
                  <div class="date-text primary">
                    Submit by: {{ submitDate(game) }}
                  </div>
                </div>
            </div> 
            <game 
                class="game-container"
                [game] = "game"
                [teams] = "teams"
                [submitOpened] = "submitOpened"
                [userGamePicks] = "weekUserPicks[game.game_id]"
                (openSubmit) = "teamClicked($event)"
                (stageSelectedPick) = "stageSelectedPick($event)"
                (teamLoaded) = "teamLoaded($event)">
            </game>
        </ng-container>
    </div>
    <div [ngClass]="{'large-height':games.length < 3, 'small-height':games.length != 0}">
    </div>
    <div id="submit-container" *ngIf="!loader">
        <button mat-button id="submit-button" class="primary-background base" (click)="openDialog()">
        submit
        </button>
    </div>
</weeks>